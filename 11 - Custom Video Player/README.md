# 11 è‡ªå®šä¹‰è§†é¢‘æ’­æ”¾å™¨

> ä½œè€…ï¼š61hhh 
> ç®€ä»‹ï¼š[JavaScript30](https://javascript30.com) æ˜¯ [Wes Bos](https://github.com/wesbos) æ¨å‡ºçš„ä¸€ä¸ª 30 å¤©æŒ‘æˆ˜ã€‚é¡¹ç›®å…è´¹æä¾›äº† 30 ä¸ªè§†é¢‘æ•™ç¨‹ã€30 ä¸ªæŒ‘æˆ˜çš„èµ·å§‹æ–‡æ¡£å’Œ 30 ä¸ªæŒ‘æˆ˜è§£å†³æ–¹æ¡ˆæºä»£ç ã€‚ç›®çš„æ˜¯å¸®åŠ©äººä»¬ç”¨çº¯ JavaScript æ¥å†™ä¸œè¥¿ï¼Œä¸å€ŸåŠ©æ¡†æ¶å’Œåº“ï¼Œä¹Ÿä¸ä½¿ç”¨ç¼–è¯‘å™¨å’Œå¼•ç”¨ã€‚

## å®ç°ç›®æ ‡

![](http://img.salute61.top/11.png)

å®ç°ä¸€ä¸ªè‡ªå®šä¹‰çš„æ§åˆ¶æ¡ï¼Œé¡¹ç›®æœ¬èº«å¹¶æ²¡æœ‰å¤ªå¤šçš„é€»è¾‘ç»“æ„ï¼Œä¸»è¦æ˜¯å…³äº`video`æ ‡ç­¾å’Œç›¸å…³å‡½æ•°çš„ä½¿ç”¨ã€‚

* ä¸º `video` å…ƒç´ æ·»åŠ è‡ªå®šä¹‰æ ·å¼çš„æ’­æ”¾æ§åˆ¶é¢æ¿
    * å¯æ»‘åŠ¨è°ƒèŠ‚éŸ³é‡ã€æ’­æ”¾é€Ÿåº¦
    * å¯é€šè¿‡æŒ‰é’®å¿«è¿›ã€å›é€€
    * å¯ç‚¹å‡»è§†é¢‘ç”»é¢æˆ–æŒ‰é’®æ’­æ”¾æˆ–æš‚åœè§†é¢‘æ’­æ”¾
    * å¯ç‚¹å‡»æˆ–æ‹–åŠ¨è¿›åº¦æ¡é€‰æ‹©è§†é¢‘æ’­æ”¾è¿›åº¦

## è§£å†³æ€è·¯

ä½œè€…æä¾›äº†htmlå’ŒCSSçš„åŸºç¡€ä»£ç ï¼Œå› æ­¤æˆ‘ä»¬ä¸»è¦åšçš„å°±æ˜¯æ·»åŠ Jsä»£ç ï¼Œç®€åŒ–æ€è·¯å°±æ˜¯ï¼š

- è·å–å¯¹åº”æ“ä½œçš„å…ƒç´ 
- ä¸ºå¯¹åº”åŠ¨ä½œæ·»åŠ æ“ä½œäº‹ä»¶

## çŸ¥è¯†ç‚¹
* `video` å¯¹è±¡çš„å„ç§å±æ€§ã€æ–¹æ³•å’Œäº‹ä»¶
	* `paused`
  	* `play()`
  	* `pause()`
  	* `currentTime`



## è¿‡ç¨‹æŒ‡å—

### å…³äºå‡½æ•°è€¦åˆ

[ç»´åŸºç™¾ç§‘ï¼šè€¦åˆæ€§]([https://zh.wikipedia.org/wiki/%E8%80%A6%E5%90%88%E6%80%A7_(%E8%A8%88%E7%AE%97%E6%A9%9F%E7%A7%91%E5%AD%B8)](https://zh.wikipedia.org/wiki/è€¦åˆæ€§_(è¨ˆç®—æ©Ÿç§‘å­¸))ï¼šæ— è®ºæ˜¯å°ä»£ç ï¼Œæˆ–è€…å¤§ç¨‹åºï¼Œcodeç¯èŠ‚éƒ½æœ‰ä¸€ä¸ªè¦æ±‚â€”â€”é«˜å†…èšä½è€¦åˆã€‚

åœ¨ä½œè€…çš„`js`ä»£ç ä¸­ï¼Œä»–å°†å¾ˆå¤šåŠŸèƒ½éƒ½å„è‡ªå†™ä½œä¸€ä¸ªå‡½æ•°ï¼Œé€šè¿‡è§†é¢‘æœ¬èº«çš„çŠ¶æ€ä½œä¸ºå‚æ•°ï¼Œè¿™æ ·å¯ä»¥é™ä½å‡½æ•°æ¨¡å—çš„è€¦åˆæ€§ï¼Œä¾¿äºä¿®æ”¹ç»´æŠ¤ç­‰æ“ä½œã€‚

### **æ’­æ”¾/æš‚åœ**

#### åŠŸèƒ½å®ç°
è§†é¢‘æœ€ä¸»è¦çš„åŠŸèƒ½è‡ªç„¶å°±æ˜¯æ’­æ”¾å’Œæš‚åœäº†ï¼Œè€Œä¸”å…¶ä»–åŠŸèƒ½ä¹Ÿéœ€è¦è§†é¢‘æ’­æ”¾ä¹‹åæ‰èƒ½çœ‹å‡ºæ•ˆæœï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆæ¥å®ç°è¿™ä¸ªåŠŸèƒ½ã€‚
`video` å¯¹è±¡æœ‰ä¸€ä¸ªå« `paused` çš„å±æ€§æ¥åˆ¤æ–­è§†é¢‘æ˜¯å¦åœ¨æ’­æ”¾ï¼›å¦å¤–è¿˜æä¾›äº†ä¸¤ä¸ªæ–¹æ³•æ¥è¿›è¡Œæ’­æ”¾å’Œæš‚åœçš„æ“ä½œï¼š`.play()` æ–¹æ³•å¯ä»¥æ’­æ”¾è§†é¢‘ï¼Œ`.pause()` æ–¹æ³•æš‚åœæ’­æ”¾ã€‚å¯ä»¥æ ¹æ®è§†é¢‘çš„æ’­æ”¾çŠ¶æ€æ¥åˆ¤æ–­è¯¥æ‰§è¡Œå“ªä¸ªï¼š

```javascript
function togglePlay() {
    //ä¸­æ‹¬å·å–å…ƒç´ å±æ€§å€¼,æ›´ç®€æ´
    const method = video.paused ? 'play' : 'pause';
    video[method]();
    
    // if(video.pause){
    //     video.paly();    
    // }else{
    //     video.pause();
    // }
}

video.addEventListener('click', togglePlay);
toggle.addEventListener('click', togglePlay);
```

ç›¸æ¯”æˆ‘ä»¬ä¸€èˆ¬çš„`if else`åˆ¤æ–­çš„å†™æ³•ï¼Œä½œè€…é‡‡ç”¨ä¸­æ‹¬å·å–å…ƒç´ å±æ€§å€¼çš„æ–¹æ³•æ˜æ˜¾æ›´ä¸ºç®€æ´ã€‚

#### **å›¾æ ‡åˆ‡æ¢**
ä¸ºäº†è®©ç”¨æˆ·çŸ¥æ™“æ’­æ”¾å™¨çŠ¶æ€ï¼Œæˆ‘ä»¬éœ€è¦ç›´è§‚åœ°é€šè¿‡å›¾æ ‡æ¥å±•ç¤ºã€‚å½“ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ `togglePlay()` æ–¹æ³•ä¸­å¤„ç†ï¼Œä¸è¿‡æ›´å¥½çš„æ–¹å¼æ˜¯ç»™æ’­æ”¾å™¨åŠ ä¸Šå¦ä¸€ä¸ªäº‹ä»¶ç›‘å¬ï¼Œç”¨è§†é¢‘æœ¬èº«çš„æ’­æ”¾çŠ¶æ€æ¥åˆ¤æ–­ã€‚

è¿™æ˜¯å› ä¸ºï¼Œé™¤äº†ç‚¹å‡»æ’­æ”¾/æš‚åœæŒ‰é’®ä»¥å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ¯”å¦‚é”®ç›˜å¿«æ·é”®ã€ç¬¬ä¸‰æ–¹æ’ä»¶ç”šè‡³è€³æœºä¸Šçš„æ“ä½œæŒ‰é’®ç­‰å…¶ä»–æ–¹å¼æ¥æ§åˆ¶ã€‚å› æ­¤ï¼Œé€šè¿‡è§†é¢‘æœ¬èº«çš„æ’­æ”¾çŠ¶æ€æ¥åˆ¤æ–­æ˜¯æœ€ä¸å®¹æ˜“å‡ºé”™çš„ã€‚ä»£ç å¦‚ä¸‹ï¼š

```javascript
// æ“ä½œ
function updateButton() {
    const icon = this.paused ? 'â–º' : 'âš âš';
    toggle.textContent = icon;
}
// äº‹ä»¶
video.addEventListener('play', updateButton)ï¼›
video.addEventListener('pause', updateButton)ï¼›
```

ä¸Šé¢çš„ä»£ç ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†å…³é”®å­— `this`ã€‚å…¶å®åœ¨è°ƒç”¨ `updateButton` çš„æ—¶å€™ï¼Œè¿™ä¸ªæ–¹æ³•å·²ç»è¢«ç»‘å®šåœ¨äº† `addEventListener` çš„è°ƒç”¨è€…ä¸Šï¼Œä¹Ÿå°±æ˜¯ç»‘å®šåˆ°äº† `video` ä¸Šã€‚å› æ­¤ï¼Œ`this.paused` åœ¨è¿™é‡Œå°±ç›¸å½“äº `video.paused`ã€‚

### **å¿«é€€/å¿«è¿›**
åœ¨ HTML ä¸­ï¼Œæˆ‘ä»¬å·²ç»ç»™å¿«é€€/å¿«è¿›é”®æ·»åŠ äº†ä¸€ä¸ª `data-skip` å±æ€§ï¼Œå¯¹åº”çš„å€¼å³ä¸ºå¿«é€€/å¿«è¿›çš„ç§’æ•°ã€‚

æˆ‘ä»¬å…ˆæ¥å†™äº‹ä»¶å¤„ç†ã€‚é¦–å…ˆè¦æœ‰ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå« `skip`ã€‚äº‹ä»¶ç›‘å¬çš„å¯¹è±¡ï¼Œå½“ç„¶æ˜¯ `skipButtons`ï¼Œå¯¹åº”çš„å°±æ˜¯å¿«é€€/å¿«è¿›ä¸¤ä¸ªæŒ‰é”®ã€‚å¯ä»¥å°è¯•ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å‡ºè¿™ä¸ª `skipButtons`ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªæ•°ç»„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç”¨ `forEach` æ¥éå†ä¸€ä¸‹ï¼Œç»™æ¯ä¸€ä¸ªæŒ‰é’®éƒ½æ·»åŠ ä¸Šäº‹ä»¶ç›‘å¬ï¼š

```javascript
// é€»è¾‘
function skip() {
    //ä¿®æ”¹videoçš„currentTimeå±æ€§å€¼æ¥è®¾ç½®è§†é¢‘çš„å½“å‰æ’­æ”¾æ—¶é—´
   video.currentTime += parseFloat(this.dataset.skip);
}
// äº‹ä»¶
skipButtons.forEach(button => button.addEventListener('click', skip));
```

**æ³¨æ„ï¼š**è¿™é‡Œå°±ä¸èƒ½ç”¨ `this` æ¥è®¿é—® `video` å¯¹è±¡äº†ï¼Œå› ä¸ºåœ¨è¿™é‡Œé¢ï¼Œ`this` æŒ‡å‘çš„æ˜¯éå†å¾—åˆ°çš„æ¯ä¸€ä¸ª `button`ï¼Œè€Œæˆ‘ä»¬æ˜¯è¦ä¿®æ”¹ `video` çš„ `currentTime` å±æ€§ã€‚

`data-**` ä½œä¸ºè‡ªå®šä¹‰çš„å±æ€§ä¹‹å‰çš„challengeä¸­æœ‰æ¶‰åŠåˆ°ï¼Œåœ¨ JavaScript ä¸­éœ€è¦é€šè¿‡ `.dataset.**` æ¥è®¿é—®ã€‚å› ä¸ºæˆ‘ä»¬è·å–åˆ°çš„æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥è¦é€šè¿‡ `parseFloat` æ¥è½¬æ¢ä¸€ä¸‹ã€‚

### **éŸ³é‡å’Œæ’­æ”¾é€Ÿåº¦**
`volumeå’ŒplaybackRate`å±æ€§æ˜¯é€šè¿‡`input`å…ƒç´ è®¾ç½®ä¸º`range`ç±»å‹è¡Œå®ç°çš„ï¼Œå¹¶ä¸”ç›´æ¥æŠŠä»–ä»¬çš„`name`å±æ€§è®¾ç½®ä¸º`volumeå’ŒplaybackRate`ï¼Œå› ä¸ºä»–ä»¬æ˜¯ `video` å¯¹è±¡é‡Œå¯¹åº”éŸ³é‡å’Œæ’­æ”¾é€Ÿåº¦çš„ä¸¤ä¸ªå±æ€§åã€‚è¿™æ ·èµ·åå¹¶ä¸æ˜¯å¿…é¡»çš„ï¼Œä½†å¯ä»¥è®©æˆ‘ä»¬åé¢ js çš„æ“ä½œæ›´ç²¾ç®€ã€‚

é€šè¿‡ç›‘å¬ä¸¤ä¸ª `input` å…ƒç´ çš„ `change` äº‹ä»¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡å…¶ `value` å€¼æ”¹å˜è§†é¢‘å±æ€§äº†ï¼š

```javascript
function handleRangeUpdate() {
    video[this.name] = this.value;
}

//éå† ranges ç»™ä¸¤ä¸ªæ»‘åŠ¨æ¡éƒ½ç»‘å®šäº‹ä»¶
ranges.forEach(range => range.addEventListener('change', handleRangeUpdate));
ranges.forEach(range => range.addEventListener('mousemove', handleRangeUpdate));
```
åœ¨htmlä»£ç ä¸­å°†`input` çš„ `name` å€¼å’Œ `video` å¯¹è±¡ä¸­çš„å±æ€§åè®¾ç½®ä¸ºä¸€æ ·çš„ï¼Œè¿™æ ·åœ¨ `handleRangeUpdate` å‡½æ•°ä¸­å°±å¯ä»¥åˆ©ç”¨ `this.name` çš„å†™æ³•æ¥ä»£è¡¨å±æ€§ï¼Œè¿™é‡Œçš„ `this` ä¸€æ ·æ˜¯ `addEventListener` çš„è°ƒç”¨è€…ï¼Œå³ `range`ã€‚

ç”±äº `change` äº‹ä»¶åªåœ¨ `blur`ï¼Œä¹Ÿå°±æ˜¯å…ƒç´ å¤±å»ç„¦ç‚¹çš„æ—¶å€™æ‰ä¼šè§¦å‘ï¼Œä¼šé€ æˆæ”¾å¼€æ»‘é¼ æ‰èƒ½ç”Ÿæ•ˆçš„æƒ…å†µã€‚å¯ä»¥åŒæ—¶ç›‘å¬é¼ æ ‡åœ¨è¯¥å…ƒç´ ä¸Šçš„ `mousemove` äº‹ä»¶æ¥æ‰§è¡Œæ›´æ–°çš„æ“ä½œã€‚

### **è¿›åº¦æ¡æ“ä½œ**
æˆ‘ä»¬çš„è¿›åº¦æ¡éœ€è¦èƒ½åœ¨é¼ æ ‡ç‚¹å‡»å’Œæ‹–åŠ¨çš„æ—¶å€™æ”¹å˜è§†é¢‘æ’­æ”¾çš„è¿›åº¦ã€‚æˆ‘ä»¬å…ˆå®ç°è¿›åº¦æ¡éšç€è§†é¢‘æ’­æ”¾æ›´æ–°è¿›åº¦çš„åŠŸèƒ½ã€‚

è¿›åº¦æ¡æ˜¾ç¤ºè¿›åº¦çš„åŸç†å¾ˆç®€å•ï¼Œ`progress__filled` è¿™ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ª `flex` å®šä½çš„å…ƒç´ ï¼Œæˆ‘ä»¬æ”¹å˜å…¶ `flex-basis` çš„ç™¾åˆ†æ¯”å€¼å°±å¯ä»¥è°ƒèŠ‚å®ƒæ‰€å çˆ¶å…ƒç´ çš„å®½åº¦ã€‚`flex-basis` å€¼ä»£è¡¨ `flex` å…ƒç´ åœ¨**ä¸»è½´**æ–¹å‘ä¸Šçš„åˆå§‹å°ºå¯¸ã€‚å…³äº `flex-basis` çš„æ›´å¤šä¿¡æ¯è¯·å‚è€ƒ [MDN](https://developer.mozilla.org/zh-CN/docs/Web/CSS/flex-basis)ï¼›

åŒæ—¶éšç€è§†é¢‘çš„æ’­æ”¾ï¼Œè¿›åº¦æ¡ä¹Ÿåº”è¯¥è‡ªåŠ¨çš„æ”¹å˜ï¼Œä¹Ÿè®¸ä½ ä¼šæƒ³åˆ°åˆ©ç”¨ `setInterval` è®¾ç½®ä¸€ä¸ªå®šæ—¶å™¨ï¼Œå…¶å® `video` å…ƒç´ ç»™æˆ‘ä»¬æä¾›äº†æ›´å¥½çš„æ–¹æ³•â€”â€” `timeupdate` äº‹ä»¶ã€‚è¿™ä¸ªäº‹ä»¶ä¼šåœ¨åª’ä½“æ–‡ä»¶çš„ `currentTime` å±æ€§æ”¹å˜çš„æ—¶è§¦å‘ï¼Œæ›´å¤šä¿¡æ¯è¯·å‚è€ƒ [MDN](https://developer.mozilla.org/zh-CN/docs/Web/Events/timeupdate)ã€‚

```javascript
// æ ¹æ®å½“å‰æ’­æ”¾æ—¶é—´æ¥è°ƒèŠ‚è¿›åº¦æ¡
function handleProgress() {
    const percent = (video.currentTime / video.duration) * 100;
    progressBar.style.flexBasis = `${percent}%`;
}
video.addEventListener('timeupdate', handleProgress);
```
è¿˜æœ‰å°±æ˜¯æˆ‘ä»¬éœ€è¦å®ç°æ’­æ”¾è¿›åº¦æ¡å¯æ§ï¼Œè¿™æ ·ç‚¹å‡»ã€æ‹–åŠ¨è¿›åº¦æ¡ä½¿å¾—æ’­æ”¾è¿›åº¦éšä¹‹æ”¹å˜ï¼Œå¯¹åº”çš„é€»è¾‘å°±æ˜¯è·å–å®½åº¦å°±éœ€è¦å¾—åˆ°é¼ æ ‡ç‚¹å‡»çš„ä½ç½®ï¼Œè¿™å¯ä»¥é€šè¿‡äº‹ä»¶å¯¹è±¡çš„ `offsetX` å±æ€§æ¥æ‰¾åˆ°ï¼Œè¯¥å±æ€§ä»£è¡¨é¼ æ ‡ç‚¹å‡»ä½ç½®ç›¸å¯¹äºè¯¥å…ƒç´ çš„æ°´å¹³åç§»ã€‚å¾—åˆ°åç§»ä¹‹åè®¡ç®—å‡ºè¯¥ä½ç½®çš„ç™¾åˆ†æ¯”ï¼Œé‚£ä¹ˆä¹Ÿå°±çŸ¥é“äº†è¿›åº¦çš„ç™¾åˆ†æ¯”ï¼Œå¯¹äºæ‹–åŠ¨å¯ä»¥é€šè¿‡è®¾ç½®ä¸€ä¸ªæ ‡å¿—æ¥åˆ¤æ–­å½“å‰æ˜¯å¦å‡ºäºæ‹–åŠ¨çŠ¶æ€ï¼Œç„¶åé…åˆ `mousedown`ã€`mouseup` äº‹ä»¶æ¥æ›´æ–°è¿™ä¸ªæ ‡å¿—ï¼š

```javascript
...
// æ ¹æ®ç‚¹å‡»ä½ç½®è®¾ç½®æ’­æ”¾æ—¶é—´
function scrub(e){
    const scrubTime = (e.offsetX / progress.offsetWidth) * video.duration;
    video.currentTime = scrubTime;
}
let mousedown = false;
progress.addEventListener('click', scrub);
progress.addEventListener('mousemove', (e) => mousedown && scrub(e));
progress.addEventListener('mousedown', () => mousedown = true);
progress.addEventListener('mouseup', () => mousedown = false);
```

å®é™…ä½¿ç”¨çš„æ—¶å€™ä¼šå‘ç°æ‹–æ‹½å’Œè§†é¢‘çš„æ›´æ–°å¹¶ä¸æ˜¯å®æ—¶çš„ï¼Œä¼šæœ‰ä¸€å®šå»¶è¿Ÿï¼Œè¿™æ˜¯å› ä¸º `mousemove` äº‹ä»¶è§¦å‘çš„é¢‘ç‡éå¸¸é«˜ï¼Œè§†é¢‘æ›´æ–°çš„é€Ÿåº¦è·Ÿä¸ä¸Šã€‚

**æ³¨ï¼š**æ‹–åŠ¨`mousemove`æ—¶ï¼Œè¦æœ‰`mousedown`æ‰ä¼šæ‰§è¡Œ`scrub(e)`ï¼Œå³æ‹–åŠ¨æ—¶é¼ æ ‡åº”å¤„äºæŒ‰ä¸‹çŠ¶æ€ï¼Œè¿™æ—¶æ‰ä¼šè°ƒç”¨scrub()å‡½æ•°ä¿®æ”¹è¿›åº¦æ¡ã€‚

## æ‹“å±•

### å®æ—¶æ—¶é—´æ˜¾ç¤º

æœ¬æ¥æ˜¯åœ¨ä¸€ä¸ª`div`ä¸­è®¾ç½®ä¸¤ä¸ª`span`æ ‡ç­¾æ¥æ˜¾ç¤ºï¼Œä½†æ˜¯å‡ºç°äº†F12æ§åˆ¶å°çœ‹å¾—åˆ°æ•°å­—æ˜¾ç¤ºï¼Œè€Œè§†é¢‘ä¸­çœ‹ä¸åˆ°çš„æƒ…å†µ

```html
<div class="timer">
	<span class="progress_timer">00:00:00</span>/
	<span class="duration_timer">00:00:00</span>
</div>
```

æ”¹ç”¨`button`ç›´æ¥æ˜¾ç¤ºï¼Œä¸å¤ªå¥½çœ‹ä¸è¿‡å¯ä»¥çœ‹åˆ°ç»“æœï¼š

```html
<button class="progress_timer" >00:00:00</button>
<button class="total_timer">00:00:00</button>
```

è·å–ä¸¤ä¸ªæ ‡ç­¾çš„å…ƒç´ ï¼Œç„¶åè®¾ç½®ä¸€ä¸ª`let {totalT,presentT}`å˜é‡ï¼Œæ·»åŠ ä¸¤ä¸ªå¯¹åº”äº‹ä»¶ï¼Œè·å–ä¸¤ä¸ªæ—¶é—´ï¼Œä¸€ä¸ªæ˜¯æ€»æ—¶é—´ä¸€ä¸ªæ˜¯å½“å‰æ—¶é—´ï¼Œï¼Œèµ‹å€¼ç»™å…ƒç´ ã€‚å…¶ä¸­æ ¼å¼è½¬æ¢å‡½æ•°`formatTime(t)`ç”¨äºè®¾ç½®æ—¶é—´æ ¼å¼ã€‚ä¸»è¦ç”¨åˆ°çš„å‡½æ•°

- `this.duration`
- `this.currentTime`

```javascript
const progressTimer = document.querySelector('.progress_timer')
const durationTimer = document.querySelector('.total_timer')

let {totalT,presentT} = {totalT:0,presentT:0}
video.addEventListener('canplay',function(){
	totalT = this.duration
	var videoDuration = formatTime(totalT)
	durationTimer.innerHTML = videoDuration
})
video.addEventListener('timeupdate',function(){
	presentT = this.currentTime
	var videoCurrent = formatTime(presentT)
	progressTimer.innerHTML = videoCurrent
})
function formatTime(t){
	var h = parseInt(t/3600)
	h = h<10?'0'+h:h 
	var m = parseInt(t%3600/60)
	m = m<10?'0'+m:m
	var s = parseInt(t%60)
	s = s<10?'0'+s:s
	return h+':'+m+':'+s
}
```

### å…¨å±åŠŸèƒ½

å‚ç…§ä¸Šé¢æ·»åŠ ä¸€ä¸ª`button`ç”¨äºç‚¹å‡»å…¨å±ï¼Œè·å–å…ƒç´ åï¼Œæ·»åŠ ç‚¹å‡»äº‹ä»¶ï¼Œå¦‚æœé‡‡ç”¨`video.webkitRequestFullScreen()`ä¼šè¦†ç›–è¿›åº¦æ¡ï¼Œå› æ­¤æ”¹ä¸ºä½¿ç”¨`player.webkitRequestFullScreen()`

```html
<button class="expand">[ğŸ‘ˆğŸ‘‰]</button>

const expand = document.querySelector('.expand');
expand.addEventListener('click',function(){
    player.webkitRequestFullScreen()
})
```

