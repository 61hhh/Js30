# 12 é”®ç›˜è¾“å…¥åºåˆ—çš„éªŒè¯æŒ‡å—

> ä½œè€…ï¼š61hhh 
> ç®€ä»‹ï¼š[JavaScript30](https://javascript30.com) æ˜¯ [Wes Bos](https://github.com/wesbos) æ¨å‡ºçš„ä¸€ä¸ª 30 å¤©æŒ‘æˆ˜ã€‚é¡¹ç›®å…è´¹æä¾›äº† 30 ä¸ªè§†é¢‘æ•™ç¨‹ã€30 ä¸ªæŒ‘æˆ˜çš„èµ·å§‹æ–‡æ¡£å’Œ 30 ä¸ªæŒ‘æˆ˜è§£å†³æ–¹æ¡ˆæºä»£ç ã€‚ç›®çš„æ˜¯å¸®åŠ©äººä»¬ç”¨çº¯ JavaScript æ¥å†™ä¸œè¥¿ï¼Œä¸å€ŸåŠ©æ¡†æ¶å’Œåº“ï¼Œä¹Ÿä¸ä½¿ç”¨ç¼–è¯‘å™¨å’Œå¼•ç”¨ã€‚

## å®ç°æ•ˆæœ

åˆå§‹æ–‡æ¡£é‡Œä»…ä»…æä¾›äº†ä¸€ä¸ª `script` æ ‡ç­¾ï¼Œä¾›æˆ‘ä»¬ä» [Cornify.com](https://www.cornify.com/) åŠ è½½ä¸€ä¸ª JS æ–‡ä»¶ï¼Œè°ƒç”¨å…¶ä¸­çš„ `cornify_add()` æ–¹æ³•æ—¶ï¼Œä¼šåœ¨é¡µé¢ä¸­è¿½åŠ  `p` æ ‡ç­¾ï¼Œå¹¶åœ¨ DOM ä¸­æ’å…¥ä¸€ä¸ªå›¾æ ‡ã€‚

ç”±äºç½‘ç»œé—®é¢˜cornify.jsè½½å…¥ä¸äº†ï¼Œç½‘ç«™è®¿é—®éƒ½è¿›ä¸å»ï¼Œæ‰€ä»¥æ”¹äº†ä¸€ä¸‹å¢åŠ ä¸¤ä¸ª`p`æ ‡ç­¾ï¼Œå½“æš—å·æ­£ç¡®å°±ä¿®æ”¹æ ‡ç­¾å†…å®¹

è€Œè¿™ä¸ªæŒ‘æˆ˜è¦å®ç°çš„æ•ˆæœæ˜¯ï¼Œå½“åœ¨æ­¤é¡µé¢å®Œæ•´è¾“å…¥äº†â€œæš—å·â€ï¼ˆä¸€ä¸²äº‹å…ˆå®šä¹‰å¥½çš„å­—ç¬¦ä¸²ï¼‰æ—¶ï¼Œç”Ÿæˆæ–°çš„ Cornify ç‰¹æ•ˆã€‚

## è§£å†³æ€è·¯

1. æŒ‡å®šå¯æ¿€å‘ç‰¹æ•ˆçš„å­—ç¬¦ä¸²`secretCode`
2. ç›‘å¬å¹¶è·å–è¾“å…¥çš„å­—ç¬¦`input`
3. å¤„ç†è¾“å…¥ï¼Œåœ¨ç¬¦åˆæ¡ä»¶æ—¶ï¼Œè°ƒç”¨æ˜¾ç¤ºå‡½æ•°`show`

## è¿‡ç¨‹æŒ‡å—

1. å£°æ˜ä¸€ä¸ªç©ºæ•°ç»„ï¼Œç”¨äºå­˜æ”¾çš„è¾“å…¥å­—ç¬¦ï¼ŒåŒæ—¶å£°æ˜â€œæš—å·â€ï¼Œæš—å·æ˜¯â€œä¸Šä¸Šä¸‹ä¸‹å·¦å³å·¦å³BAâ€ï¼Œé€šè¿‡`console.log(e.keycode)`è·å–æŒ‰é”®çš„`keycode`å†™å…¥

	````js
	  const secretCode = [38,38,40,40,37,39,37,39,66,65];
	  const input = [];
	````

2. æ·»åŠ é”®ç›˜çš„ `keyup` äº‹ä»¶ç›‘å¬ï¼Œç”¨ç®­å¤´å‡½æ•°çš„å‚æ•°æ¥æ¥æ”¶äº‹ä»¶ã€‚æ³¨æ„æ­¤å¤„çš„ `keyup` äº‹ä»¶æ˜¯é’ˆå¯¹é¡µé¢çš„ï¼Œæ‰€ä»¥åœ¨è°ƒè¯•æ—¶å•å‡»é¡µé¢åæ—¶ç„¦ç‚¹åœ¨é¡µé¢ä¸­æ‰ç”Ÿæ•ˆï¼Œåœ¨ Console é¢æ¿ä¸­æ˜¯ä¸ä¼šè§¦å‘çš„ã€‚
	```js
	 window.addEventListener('keyup', function(e) {
	 	
 })
	```
	
3. éªŒè¯è¾“å…¥çš„å­—ç¬¦ã€‚æ­¤å¤„æ–¹æ³•æ˜¯å°†æ¯ä¸€ä¸ªè¾“å…¥çš„å­—ç¬¦å­˜å…¥ `input` æ•°ç»„ï¼Œç„¶åå¤„ç†æ•°ç»„ï¼Œä½¿å…¶å‘ˆç°é˜Ÿåˆ—çš„æ€§è´¨ï¼Œä¹Ÿå°±æ˜¯è¾“å…¥ä¸€ä¸ªå­—ç¬¦æ—¶ï¼Œä¼šæŒ¤å‡ºåŸæœ‰çš„çš„å­—ç¬¦ï¼Œä¿è¯å…¶æœ€å¤§é•¿åº¦å§‹ç»ˆä¸º `secretCode` çš„é•¿åº¦ã€‚è¿™æ ·åšçš„ç›®çš„æ˜¯ä¸ºäº†ä¾¿äºéªŒè¯æš—å·ï¼Œåªæœ‰å®Œæ•´æ— è¯¯çš„è¾“å…¥ä¸€æ¬¡æš—å·æ—¶ï¼Œæ‰ä¼šè§¦å‘ç›¸åº”çš„æ•ˆæœã€‚å½“ç„¶è¿™åªæ˜¯å…¶ä¸­ä¸€ç§å¤„ç†åŠæ³•ï¼Œä¹Ÿè¿˜æœ‰å…¶ä»–åŠæ³•ã€‚
	```js
     window.addEventListener('keyup',function(e){
	
	    // console.log(e.key,e.keyCode);
	    input.push(e.keyCode);
	
	    // while(input.length > secretCode.length){
	    //   input.shift();
       // }
       // input = input.splice(-secretCode.length,secretCode.length);
   
       input.splice(
         -secretCode.length - 1, input.length - secretCode.length
       );
   
       console.log(input , secretCode);
       if(input.join(',') === secretCode.join(',')){
         console.log('DING DING!');
         // cornify_add();
         show();
       }
       function show(){
         document.getElementById('result').innerHTML = "â¬†â¬†â¬‡â¬‡â¬…â¡â¬…â¡ğŸ…±ğŸ…° å¼€å¯ç§˜ç±ï¼"
       }
   
     });
   ```

è¾“å…¥æš—å·åè§¦å‘ç‰¹æ•ˆçš„é¡µé¢ä¹Ÿå°±å®Œæˆäº†